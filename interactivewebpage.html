<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factoring Polynomials Tutor</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load MathJax for rendering LaTeX math -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#4f46e5', // Indigo-600
                        'secondary': '#10b981', // Emerald-500
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for card flip effect */
        .card-flip {
            perspective: 1000px;
        }
        .card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .is-flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        .card-back {
            transform: rotateY(180deg);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">

    <div class="min-h-screen p-4 sm:p-8">
        <!-- Header -->
        <header class="text-center mb-12 py-6 bg-primary rounded-xl shadow-lg">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-white tracking-tight">Factoring Mastery Guide</h1>
            <p class="mt-2 text-xl text-indigo-200">The Essential Factoring Rulebook \& Practice</p>
        </header>

        <!-- Reference Section -->
        <section id="reference" class="mb-16">
            <h2 class="text-3xl font-bold text-primary mb-6 border-b-2 border-primary pb-2">1. Key Factoring Methods</h2>
            <p class="mb-6 text-lg text-gray-600 font-semibold">
                \(\text{Remember: ALWAYS check for a GCF first!}\)
            </p>
            
            <div id="methods-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Factoring method cards will be generated here -->
            </div>
        </section>

        <!-- Interactive Quiz Section -->
        <section id="quiz">
            <h2 class="text-3xl font-bold text-primary mb-8 border-b-2 border-primary pb-2">2. Classification Quiz</h2>
            
            <div class="max-w-xl mx-auto bg-white p-6 rounded-2xl shadow-xl border-t-4 border-secondary card-flip" id="quiz-card">
                <div class="card-inner">
                    <!-- Quiz Front (Question) -->
                    <div class="card-front p-4">
                        <p class="text-gray-500 text-sm mb-2 font-medium">Question <span id="current-q-number">1</span> of <span id="total-q-number">8</span></p>
                        <div class="text-2xl font-bold mb-4">What is the best method to use for:</div>
                        <div id="quiz-question" class="text-4xl text-primary font-mono bg-indigo-50 p-4 rounded-lg shadow-inner text-center">
                            <!-- Question Placeholder -->
                        </div>
                        <div class="flex justify-center mt-6">
                            <button id="show-answer-btn" class="bg-secondary text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-emerald-600 transition duration-200">
                                Show Solution
                            </button>
                        </div>
                    </div>

                    <!-- Quiz Back (Answer/Solution) -->
                    <div class="card-back p-4 text-left">
                        <p class="text-gray-500 text-sm mb-2 font-medium">Solution</p>
                        <h3 class="text-xl font-bold text-secondary mb-4">Method: <span id="quiz-method" class="text-primary"></span></h3>
                        <div class="bg-gray-100 p-4 rounded-lg">
                            <h4 class="font-semibold text-lg mb-2">Full Solution:</h4>
                            <div id="quiz-solution" class="text-gray-700">
                                <!-- Solution Placeholder -->
                            </div>
                        </div>
                        <div class="flex justify-between mt-6">
                            <button id="prev-q-btn" class="text-primary hover:text-indigo-800 transition duration-200 font-medium disabled:opacity-50" disabled>
                                &larr; Previous
                            </button>
                            <button id="next-q-btn" class="bg-primary text-white font-bold py-2 px-5 rounded-full shadow-md hover:bg-indigo-700 transition duration-200">
                                Next Problem &rarr;
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Data for the reference guide cards (Key Concepts)
        const factoringMethods = [
            {
                name: "GCF (Greatest Common Factor)",
                when: "ALWAYS check first! Applies to any number of terms.",
                formula: "$\\text{Example: } 8x^3 + 20x^2 - 12x = 4x(2x^2 + 5x - 3)$",
                color: "bg-red-100 border-red-400"
            },
            {
                name: "Difference of Squares",
                when: "Two terms, subtraction, both are perfect squares.",
                formula: "$a^2 - b^2 = (a - b)(a + b)$",
                color: "bg-blue-100 border-blue-400"
            },
            {
                name: "Sum of Cubes",
                when: "Two terms, addition, both are perfect cubes.",
                formula: "$a^3 + b^3 = (a + b)(a^2 - ab + b^2)$",
                color: "bg-green-100 border-green-400"
            },
            {
                name: "Difference of Cubes",
                when: "Two terms, subtraction, both are perfect cubes.",
                formula: "$a^3 - b^3 = (a - b)(a^2 + ab + b^2)$",
                color: "bg-yellow-100 border-yellow-400"
            },
            {
                name: "Simple Trinomial (a=1)",
                when: "Three terms, leading coefficient is 1 ($x^2 + bx + c$).",
                formula: "$\\text{Example: } x^2 + 5x + 6 = (x + 2)(x + 3)$",
                color: "bg-purple-100 border-purple-400"
            },
            {
                name: "AC Method (a>1)",
                when: "Three terms, leading coefficient is not 1 ($ax^2 + bx + c$).",
                formula: "$\\text{Example: } 3x^2 + 14x - 5 \\rightarrow (3x - 1)(x + 5)$",
                color: "bg-pink-100 border-pink-400"
            },
            {
                name: "Factor by Grouping",
                when: "Exactly four terms.",
                formula: "$\\text{Example: } x^3 + 2x^2 + 5x + 10 = (x^2 + 5)(x + 2)$",
                color: "bg-teal-100 border-teal-400"
            }
        ];

        // Data for the interactive quiz (Practice Examples)
        const quizQuestions = [
            {
                q: "$25x^2 - 49y^2$",
                method: "Difference of Squares",
                solution: "Identify $a=5x$ and $b=7y$. Factor using $(a-b)(a+b)$. Result: $(5x - 7y)(5x + 7y)$."
            },
            {
                q: "$2p^3 + 5p^2 + 6p + 15$",
                method: "Factor by Grouping",
                solution: "Group: $(2p^3 + 5p^2) + (6p + 15)$. Factor GCFs: $p^2(2p + 5) + 3(2p + 5)$. Result: $(p^2 + 3)(2p + 5)$."
            },
            {
                q: "$x^2 - 12x + 32$",
                method: "Simple Trinomial (a=1)",
                solution: "Find two numbers that multiply to $32$ and add to $-12$. Numbers are $-4$ and $-8$. Result: $(x - 4)(x - 8)$."
            },
            {
                q: "$50m^3 - 2m$",
                method: "GCF then Difference of Squares",
                solution: "1. Factor out GCF $2m$: $2m(25m^2 - 1)$. 2. Factor Difference of Squares ($a=5m, b=1$): $2m(5m - 1)(5m + 1)$."
            },
            {
                q: "$w^3 + 125$",
                method: "Sum of Cubes",
                solution: "Identify $a=w$ and $b=5$. Apply formula $a^3 + b^3 = (a + b)(a^2 - ab + b^2)$. Result: $(w + 5)(w^2 - 5w + 25)$."
            },
            {
                q: "$3x^2 + 14x - 5$",
                method: "AC Method (a>1)",
                solution: "1. $a \\cdot c = -15$. Numbers that multiply to $-15$ and add to $14$ are $15$ and $-1$. 2. Rewrite: $3x^2 + 15x - x - 5$. 3. Group: $3x(x + 5) - 1(x + 5)$. Result: $(3x - 1)(x + 5)$."
            },
            {
                q: "$27a^3 - 64b^3$",
                method: "Difference of Cubes",
                solution: "Identify $a=3a$ and $b=4b$. Apply formula $a^3 - b^3 = (a - b)(a^2 + ab + b^2)$. Result: $(3a - 4b)(9a^2 + 12ab + 16b^2)$."
            },
            {
                q: "$4y^2 + 20y + 25$",
                method: "Perfect Square Trinomial",
                solution: "The first term ($(2y)^2$) and last term ($(5)^2$) are perfect squares, and the middle term is $2(2y)(5) = 20y$. Result: $(2y + 5)^2$."
            }
        ];

        let currentQuestionIndex = 0;
        const quizCard = document.getElementById('quiz-card');
        const quizQuestionDiv = document.getElementById('quiz-question');
        const quizMethodSpan = document.getElementById('quiz-method');
        const quizSolutionDiv = document.getElementById('quiz-solution');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextQBtn = document.getElementById('next-q-btn');
        const prevQBtn = document.getElementById('prev-q-btn');
        const currentQNumberSpan = document.getElementById('current-q-number');
        const totalQNumberSpan = document.getElementById('total-q-number');
        
        // --- Reference Card Generation ---
        function renderReferenceCards() {
            const container = document.getElementById('methods-container');
            container.innerHTML = factoringMethods.map(method => `
                <div class="${method.color} border-l-4 rounded-xl p-5 shadow-lg">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${method.name}</h3>
                    <p class="text-sm font-semibold text-gray-600">When to Use:</p>
                    <p class="mb-4 text-gray-700">${method.when}</p>
                    <p class="text-sm font-semibold text-gray-600">Formula/Example:</p>
                    <div class="text-lg font-mono p-2 bg-white rounded">${method.formula}</div>
                </div>
            `).join('');

            // After injection, tell MathJax to render the new math
            MathJax.typesetPromise();
        }

        // --- Quiz Logic ---
        function loadQuestion(index) {
            const q = quizQuestions[index];
            quizQuestionDiv.innerHTML = q.q;
            quizMethodSpan.textContent = q.method;
            quizSolutionDiv.textContent = q.solution;
            currentQNumberSpan.textContent = index + 1;
            
            // Reset card state to front face
            quizCard.classList.remove('is-flipped');
            showAnswerBtn.style.display = 'block';

            // Update navigation buttons
            prevQBtn.disabled = index === 0;
            nextQBtn.disabled = index === quizQuestions.length - 1;

            // Render math for the question (and solution if needed)
            MathJax.typesetPromise([quizQuestionDiv]);
        }

        function setupQuiz() {
            totalQNumberSpan.textContent = quizQuestions.length;
            loadQuestion(currentQuestionIndex);
        }

        showAnswerBtn.addEventListener('click', () => {
            quizCard.classList.add('is-flipped');
            showAnswerBtn.style.display = 'none';
            // Render math for the solution when flipped
            MathJax.typesetPromise([quizSolutionDiv]);
        });

        nextQBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            }
        });

        prevQBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        });

        // Initialize on load
        window.onload = function() {
            renderReferenceCards();
            setupQuiz();
        };

    </script>

</body>
</html>
